<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ROSA FSx Workshop :: ROSA FSx Workshop</title>
    <link rel="canonical" href="https://github.com/redhat-gpst/rosa-fsx-lab-guide/modules/index.html">
    <link rel="next" href="module-01.html">
    <meta name="generator" content="Antora 3.1.9">
    <link rel="stylesheet" href="../_/css/site.css">
<link rel="icon" href="../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://demo.redhat.com" target="_blank">
        <img src="../_/img/rhdp-logo.svg" height="35px" alt="Red Hat Demo Platform">
      </a>
      <a class="navbar-item" href="https://github.com/redhat-gpst/rosa-fsx-lab-guide">ROSA FSx Workshop</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Help</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" target="_blank" href="https://redhat.service-now.com/help?id=sc_cat_item&sys_id=00c0316a1bf39450e43942a7bc4bcbd1">Open Support Case</a>
            <a class="navbar-item" target="_blank" href="https://rhdp.statuspage.io/">Status Page</a>
            <a class="navbar-item" target="_blank" href="https://demo.redhat.com/support">Solution Support: Service Level</a>
            <a class="navbar-item" target="_blank" href="https://content.redhat.com/us/en/product/cross-portfolio-initiatives/rhdp.html">Learn more</a>
            <a class="navbar-item" target="_blank" href="https://videos.learning.redhat.com/channel/RHPDS%2B-%2BRed%2BHat%2BProduct%2Band%2BPortfolio%2BDemo%2BSystem/277722533">How to videos</a>
          </div>
        </div>
        <a class="navbar-item" target="_blank" href="https://docs.google.com/forms/d/e/1FAIpQLSfwGW7ql2lDfaLDpg4Bgj_puFEVsM0El6-Nz8fyH48RnGLDrA/viewform">Feedback</a>
        <a class="navbar-item" href="https://developers.redhat.com/events/" target="_blank">Upcoming Events</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="modules" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html" class=" query-params-link">Lab guide</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-01.html">Storage Deployment &amp; Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-01.html#prov-fsx-ontab">Provision FSx for ONTAP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-01.html#trident-rosa">Install and Configure the Trident CSI driver for ROSA</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-01.html#trident-ontap">Install and Configure the Trident CSI backend to FSx for ONTAP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-01.html#storageclass">Create storage class in ROSA cluster</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-02.html">Deploy stateful applicaiton</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-02.html#deploy">Deploy MySQL stateful application</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-02.html#create-snapshot">Creating Snapshots</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-02.html#recovery">Data Recovery</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-02.html#validate">Validate the Database was Restored</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lab guide</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Lab guide</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="index.html">default</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link is-current"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Lab guide</a></li>
    <li><a href="index.html">ROSA FSx Workshop</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/redhat-gpst/rosa-fsx-lab-guide/edit/main/content/modules/ROOT/pages/index.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">ROSA FSx Workshop</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This lab guide provides a walkthrough on using FSx for ONTAP as a persistent storage layer for applications on <strong>Red Hat OpenShift Service on AWS</strong> (ROSA). It will guide you through the steps to install the NetApp Trident Container Storage Interface (CSI) driver on a ROSA cluster. Additionally, you will learn how to provision an FSx for ONTAP file system, deploy a sample stateful application. To ensure your dataâ€™s resilience, you learn how to backup and restore your application data.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This lab guide assumes you are using the RHDP environment and are logged into the bastion.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Lab Setup</p>
</li>
<li>
<p>Provision FSx for ONTAP</p>
</li>
<li>
<p>Install and Configure the Trident CSI driver for ROSA</p>
</li>
<li>
<p>Install and Configure the Trident CSI backend to FSx for ONTAP</p>
</li>
<li>
<p>Create storage class in ROSA cluster</p>
</li>
<li>
<p>Deploy MySQL stateful application</p>
</li>
<li>
<p>Creating Snapshots</p>
</li>
<li>
<p>Data Recovery</p>
</li>
<li>
<p>Validate the Database was Restored</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lab-setup"><a class="anchor" href="#lab-setup"></a>1. Lab Setup</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_authenticate_oc_to_the_cluster"><a class="anchor" href="#_authenticate_oc_to_the_cluster"></a>1.1. Authenticate <code>oc</code> to the cluster</h3>
<div class="paragraph">
<p>The bastion provided with the RHDP workshop has the <code>aws</code> and <code>rosa</code> command line tools already installed and logged in.  The <code>oc</code> command is installed, but not authenticated.</p>
</div>
<div class="paragraph">
<p>To authenticate <code>oc</code> use the API URL, username, and password provided by the RHDP lab deployment.</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc login https://api.my-openshift-domain.local:6443 -u cluster-admin -p GcJf7-te22D-6FUTL-TtktJ</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_clone_the_lab_repo"><a class="anchor" href="#_git_clone_the_lab_repo"></a>1.2. Git clone the lab repo</h3>
<div class="paragraph">
<p>Clone the Git repository:</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/redhat-gpst/rosa-fsx-lab-guide rosa-fsx</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>cd</code> into the rosa-fsx/fsx directory. This will be the main working directory for the lab.</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd ~/rosa-fsx/fsx</code></pre>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="next"><a href="module-01.html" class="query-params-link">Storage Deployment &amp; Configuration</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
